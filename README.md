# PanzerWaltzGearSetupsParser (Read the PW Codes.txt file instead, this one has screwed up format)
Simple ass code to grab all the "c_EquipSaveData" from the "Cocos2dxPrefsFile.xml" file from Android PanzerWaltz.
Code is in Javascript and runs on a Web Browser's Console.
Made on 5th June, 2020 by Coppy and/or Coppeh.
Works on PanzerWaltz 1.

 Introduction:
 
In PanzerWaltz, you can Equip your Tanks with various Gears. You can also Save your setup and Restore them later.
But, the setups are saved on your Phone, so if you reinstall the game, you will lose your setups, meaning you will need to re-Save each Tank's Gear Setups by hand, which is tedious if you have a lot of setups. So very tedious... that I've dedicated a half day on the following code.
Anyway, the setups are saved deep inside your phone, in the root folder of the game's folder, in an .xml file, inside a "string" element called "c_EquipSaveData_<tankID?>_GroupA_<anotherID>", as a string.
Now, you can't actually make a copy the old file, reinstall and then Replace the new file generated by the game (at least it didn't work for me). But you can, copy each "string" from the old and add them into the new one.
But the order of these strings in the file seem to be all over the place (probably ordered by creation time, idk).
This code makes it easier by "eating" all of these strings from the old file and then "pooping" out only the "c_EquipSaveData" strings for you to Copy into the new file.

Why Javascript and the Web Browser's Console:

idk how to make an executable yet and I also wouldn't trust an executable on Reddit. But Web Browsers are pretty prevalent and Javascript means you can just copy it as is and paste it into the console.
The code is laid bare so if you know just a little about coding you can see it's not doing anything you don't want. 

Requirements:

 - Intermediate to Advanced computer skills (ie. Copy-Paste, folders, Web Browsers, shortcut keys, saving files)
 - Advanced Android skills (ie. Android to PC file transfer and vice versa, Root, folder structures)
 - Access to the root folder of your Android (Yes, AFAIK, this means you need Root Access, Thanks HappyUniverse)
 - A web browser (ie. Firefox, Chrome) (Tested on Firefox 77.0.1 and Chrome 83.0.4103.61)
 - A text editor (ie. Notepad, Notepad++)

WARNING:
Use this on NEW, FRESH PanzerWaltz installs because messing with the files and folders CAN screw up the game and you may end up having to reinstall.
(Which will make you lose all the data that is not stored on the Game's server. ie. Existing save equips, login info, current settings like "Subtitle On" etc.) (Progress data like unlocked tanks, resources, Story, Raid (Eagles) etc. should be safe as they are stored on the Servers. Just make sure you login to the SAME Account and KNOW your Password!)
Basically, if you screw up, you only keep what you would usually keep when you re-install the game. So, if you've just reinstalled the game, you likely won't have much to lose anything anyway.
Only Copying the .xml file from the OLD install and pasting it somewhere else SHOULD be safe.

More Warning:
 
Moving these SaveData into a not-fresh PanzerWaltz install is untested.


The "Cocos2dxPrefsFile.xml" with the gear setups can be found on your Android device at: (For Android 7)
/root/data/data/com.happyuniverse.pub.panzer/shared_prefs
or
data/data/com.happyuniverse.pub.panzer/shared_prefs
^ Note the extra dash ("/")
Not to be confused with the actual game installation folder:
data/media/0/Android/data/com.happyuniverse.pub.panzer/

If in doubt, go to the Root folder and search ".pub.panzer" and look for the "shared_prefs" folder or the "Cocos2dxPrefsFile.xml" file.
If you get no results, you might not have Root access or not searching from the Root Folder (Searching from the Root folder lets the Searcher search all the nested folders)

WARNING (Again! This is important!):
 
Use this for NEW FRESH PanzerWaltz installs because messing with the files and folders can screw up your install.

Disclaimers:

The game PanzerWaltz is the property of its respective owner(s).
I am not also paid by them or anyone to write the following codes.
I will accept no responsibility for any loss of data and/or damage to your software/hardware.
So please make a backup of all your data.

How to use:

- Copy the "Cocos2dxPrefsFile.xml" file from your Old Install or Old Android to your PC.
- Reinstall PanzerWaltz, or Install the game on your New Android device.
- With the New, Fresh PanzerWaltz, login once first.
- Copy the same file from your New Android to your PC. (Rename it so you can have both in the same folder)
- Make a Second Copy of both "Cocos2dxPrefsFile.xml" files.
- Open a web browser, ie. Firefox/Chrome
- Drag the OLD "Cocos2dxPrefsFile.xml" file into your web browser
- Open the Console of the Web Browser
   - Firefox - Top right corner's 3 line button > Web Developer > Web Console (or just Ctrl + Shift + C)
   - Chrome - Top right corner's 3 dot button > More Tools > Developer Tools (or Ctrl + Shift + I)
- If applicable, the web browser may show not you the console so you might need to click on the Console tab
- Copy the Below Code and Paste it into the Console's input.
- Press Enter.
- Copy the output. It should be a list of "<string name="c_EquipSaveData...""
- Open the NEW "Cocos2dxPrefsFile.xml" with your Text Editor.
- Paste what you got from the Web Browser Console to the end of this .xml file, add them before the last line where it says "</map>".     

  ie. The last few lines may be:
     <string name="c_NOTICE_INFO">91873e8b86ae86c2eab7d5de8f5dadee</string>
     <string name="c_ChapterLevel_GroupA_156510">00000000</string>
  </map>
  
  You will want to put the "<string name=..." in after the following line:
     <string name="c_ChapterLevel_GroupA_156510">00000000</string>
     
  Which is before this line:
  </map>
  
- Save this edited "Cocos2dxPrefsFile.xml" file.
- Remember this .xml file came from your NEW Android? Now we just gotta put it back.
- Make sure you put it back at where it was and REPLACE the file that was there.
- Run the game on your new Android and check whether it has your Equip save data.
  
 
Ping/Message /u/Coppeh on Reddit if you're on Android and need further help. I can try to help you.
 
